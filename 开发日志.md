# 开发日志

## 版本 1.0.0

### 新功能
- **基础运算实现**：实现了计算器的基本功能，包括加(`+`)、减(`-`)、乘(`*`)、除(`/`)四种运算。
- **用户界面设计**：设计了一个简洁直观的用户界面(UI)，使用户能够轻松输入数字和运算符，并查看运算结果。

### 已知问题
- **除法运算的崩溃问题**：在执行某些除法运算时，程序可能会崩溃。问题疑似出现在 `on_btnequal_clicked()` 函数中。此函数负责解析用户输入的运算表达式并执行计算。目前的实现在处理 `QStringList` 时，假设了列表中总是有有效的元素。如果输入的字符串 `str` 没有按预期格式包含足够的数据（如仅有一个数字或操作符），则访问 `Str_List` 可能导致越界错误，从而引发程序崩溃。

### 下一步计划
- **改进错误处理**：优化 `on_btnequal_clicked()` 中的字符串解析逻辑，增加对输入格式的检查，确保在执行任何运算前输入都是合法且完整的。
- **UI 优化**：计划改进用户界面，使其在输入格式错误或遇到运算错误时给予用户更清晰的反馈。
- **性能优化**：对计算逻辑进行优化，提高计算效率和响应速度。

---

## 版本 1.1.0

### 新功能
- **增强的错误处理**：
  - 在进行数学运算之前，增加了对操作数列表 `QStringList` 大小的检查，确保输入格式正确，从而避免因不正确的用户输入造成程序崩溃。
  - 对除法运算增加了除数为零的错误处理，如果除数为零，则不执行除法运算并在界面上显示错误消息，提高程序的稳定性和用户体验。

- **代码优化和逻辑改进**：
  - 移除了中间变量 `mark`，直接从用户输入的表达式中分割并读取操作符。这种方法减少了因 `mark` 变量未更新或错误设置而导致的问题。
  - 增加了对操作符的直接检查，确保了运算逻辑的正确性和鲁棒性。

- **退格键逻辑改进**：
  - 对退格键的处理进行了改进，现在如果表达式字符串为空，按退格键不会尝试删除字符，避免了潜在的错误或程序崩溃。

### 问题修复
- **解决除法运算崩溃问题**：
  - 修复了1.0版本中部分情况下除法运算可能导致程序崩溃的问题。通过增强的输入检查和错误处理，提升了程序在处理边界条件和异常输入时的稳定性。

### 下一步计划
- **增加更多功能**：
  - 计划引入更复杂的数学运算能力，如指数和幂运算，以满足更广泛的用户需求。
- **UI 优化**：
  - 将继续优化用户界面，提高用户交互体验，例如通过改进输入方法、显示错误信息的方式等，使界面更直观、更易于使用。

---

## 版本 1.1.1

### 主要变更
- **版本命名规则更新**：
  - 更新了计算器程序的版本命名规则，以三部分的格式 `x.y.z` 来表示每个版本。
    - **x**（主版本号）：表示有重大更新，如重大功能引入、重要项目里程碑的达成。
    - **y**（次版本号）：基于现有主版本之上的新增功能或重要的Bug修复。
    - **z**（修订号）：在现有次版本基础上进行的细微的改进和错误修正。

### 目的
- 此次更新旨在更清晰地表达每个版本的重要性和变更范围，更好地理解每次更新所带来的具体影响。

### 下一步计划
- 计划引入更复杂的数学运算能力，如指数、对数和幂运算，以满足更广泛的需求。
- 根据此新的版本命名规则，更有效地管理和发布未来的更新。
